#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include "lcd.h"
#include "touch.h"

unsigned char SchoolName[6][40*35/8] = {
/*--  文字:  湖  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,
0x01,0xE0,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x07,0x81,0xE0,0x00,0x00,0x03,0xE1,
0xC0,0x3E,0x00,0x03,0xE1,0xC7,0xFF,0x00,0x01,0xE1,0xC7,0xFF,0x00,0x00,0xC1,0xC7,
0x0F,0x00,0x00,0x03,0xFF,0x0E,0x00,0x00,0x03,0xFF,0x0E,0x00,0x3C,0x3F,0xF7,0x6E,
0x00,0x3E,0x3F,0x87,0xFE,0x00,0x1F,0x03,0x87,0xCE,0x00,0x0F,0x03,0x87,0x0E,0x00,
0x06,0x07,0x07,0x0E,0x00,0x01,0x87,0xF7,0x0E,0x00,0x01,0xFF,0xF7,0xFE,0x00,0x03,
0xFC,0xF7,0xEE,0x00,0x03,0xF0,0xE7,0x0E,0x00,0x07,0x71,0xEF,0x0E,0x00,0x07,0x39,
0xCE,0x0E,0x00,0x0F,0x3F,0xEE,0x0E,0x00,0x1E,0x3F,0x1E,0x0E,0x00,0x1E,0x38,0x1C,
0x0E,0x00,0x1E,0x38,0x3C,0x0E,0x00,0x1E,0x00,0x38,0x7E,0x00,0x0E,0x00,0x70,0x3E,
0x00,0x00,0x00,0xE0,0x1E,0x00,0x00,0x00,0xC0,0x1E,0x00,0x00,0x00,0x00,0x0C,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},

/*--  文字:  南  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,
0x00,0xF8,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,
0xE0,0x00,0x00,0x00,0x00,0xEF,0x00,0x00,0x00,0x01,0xFF,0x80,0x00,0x00,0x3F,0xFE,
0x00,0x00,0x00,0x0F,0xC0,0x00,0x00,0x00,0x01,0xC0,0x20,0x00,0x00,0x01,0xC7,0xFC,
0x00,0x00,0x03,0xFF,0xFE,0x00,0x00,0x3F,0xF8,0x3E,0x00,0x0F,0xFE,0x78,0x3E,0x00,
0x0F,0x9E,0x78,0x1C,0x00,0x07,0x0E,0x70,0x1C,0x00,0x07,0x0E,0x7E,0x1C,0x00,0x07,
0x05,0xFE,0x1C,0x00,0x07,0x1F,0xF0,0x1C,0x00,0x07,0x1F,0xC0,0x1C,0x00,0x07,0x01,
0xDF,0x3C,0x00,0x07,0x01,0xFF,0x3C,0x00,0x07,0x3F,0xF8,0x3C,0x00,0x07,0x7F,0xC0,
0x3C,0x00,0x07,0x01,0xC0,0x3C,0x00,0x07,0x01,0xC0,0x3C,0x00,0x07,0x01,0xC3,0xFC,
0x00,0x07,0x01,0xC1,0xFC,0x00,0x03,0x01,0xC0,0xF8,0x00,0x00,0x01,0xC0,0x78,0x00,
0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},

/*--  文字:  城  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,
0x00,0x1E,0xE0,0x00,0x00,0x00,0x1E,0xF8,0x00,0x03,0x00,0x1E,0x78,0x00,0x03,0xC0,
0x0E,0x3C,0x00,0x03,0xC0,0x0E,0x18,0x00,0x03,0xC0,0x0E,0x00,0x00,0x03,0xC0,0x0E,
0x00,0x00,0x03,0xC0,0x0E,0xE0,0x00,0x01,0xC0,0x0F,0xE0,0x00,0x01,0xC0,0x1F,0xC0,
0x00,0x01,0xC7,0xFF,0x18,0x00,0x01,0xFF,0xF7,0x1E,0x00,0x03,0xFF,0x87,0x3C,0x00,
0x0F,0xE7,0x83,0xBC,0x00,0x0F,0xC7,0x83,0xB8,0x00,0x01,0xC7,0x7F,0xB8,0x00,0x01,
0xC7,0xFD,0xF0,0x00,0x01,0xDF,0xB9,0xF0,0x00,0x01,0xF7,0x39,0xE0,0x00,0x03,0xE7,
0x39,0xE0,0x00,0x0F,0xCF,0x3B,0xF0,0x00,0x3F,0x0E,0x7F,0xF0,0x80,0x7E,0x1F,0xFE,
0x79,0x80,0x78,0x1C,0xF0,0x3D,0x80,0x18,0x38,0xE0,0x3F,0x80,0x00,0x70,0x00,0x1F,
0x80,0x00,0xE0,0x00,0x0F,0x80,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x03,0xC0,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},

/*--  文字:  市  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,0x00,
0x03,0xF0,0x00,0x00,0x00,0x01,0xF0,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,
0x20,0x7E,0x00,0x00,0x00,0x3F,0xFF,0x00,0x00,0x7F,0xFF,0xFF,0x00,0x3F,0xFF,0xFC,
0x00,0x00,0x1F,0xF1,0xE0,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x01,0xE3,0x80,
0x00,0x00,0x01,0xFF,0xE0,0x00,0x00,0xFF,0xFB,0xF0,0x00,0x00,0xFF,0xE1,0xE0,0x00,
0x00,0xF1,0xE1,0xE0,0x00,0x00,0xF1,0xE1,0xE0,0x00,0x00,0xE1,0xE1,0xE0,0x00,0x00,
0xE1,0xE1,0xE0,0x00,0x00,0xE1,0xED,0xE0,0x00,0x00,0xE1,0xEF,0xE0,0x00,0x00,0xE1,
0xE7,0xC0,0x00,0x00,0xE1,0xE3,0xC0,0x00,0x00,0x41,0xE1,0x80,0x00,0x00,0x01,0xC0,
0x00,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x01,0xC0,0x00,
0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x01,0xC0,0x00,0x00,
0x00,0x01,0xC0,0x00,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00},

/*--  文字:  学  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x80,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,
0x01,0xC3,0xC0,0x00,0x00,0x79,0xE7,0x80,0x00,0x00,0x3D,0xE7,0x80,0x00,0x00,0x3C,
0xE7,0x00,0x00,0x00,0x1C,0xEE,0x00,0x00,0x00,0x1C,0x4E,0x18,0x00,0x00,0x00,0x1F,
0xFE,0x00,0x03,0x07,0xFF,0xFF,0x00,0x07,0xFF,0xE0,0x3F,0x80,0x07,0xF0,0x00,0x3F,
0x00,0x07,0x00,0x78,0x78,0x00,0x0F,0x0F,0xFC,0x60,0x00,0x0E,0x7F,0xBE,0x00,0x00,
0x0E,0x38,0x7C,0x00,0x00,0x0C,0x00,0x70,0x00,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,
0x01,0xFF,0xFC,0x00,0x00,0x07,0xFF,0xFE,0x00,0x1F,0xFF,0xFC,0x3E,0x00,0x1F,0xFC,
0xF0,0x00,0x00,0x07,0x00,0x70,0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0x70,
0x00,0x00,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0xF0,0x00,
0x00,0x00,0x0E,0xF0,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,
0x00,0x03,0xC0,0x00,0x00,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00},

/*--  文字:  院  --*/
/*--  楷体26;  此字体下对应的点阵为：宽x高=36x35   --*/
/*--  宽度不是8的倍数，现调整为：宽度x高度=40x35  --*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0x00,0x7C,0x3E,0x00,0x00,0x0F,0xFC,
0x1E,0x00,0x00,0x0F,0xF8,0x06,0x70,0x00,0x07,0x71,0x03,0xFC,0x00,0x07,0x73,0xFF,
0xFE,0x00,0x07,0x73,0xF8,0x7E,0x00,0x07,0x73,0x80,0x70,0x00,0x07,0x77,0x80,0x00,
0x00,0x07,0x77,0x07,0x00,0x00,0x07,0x3B,0x3F,0x80,0x00,0x07,0xF9,0xFE,0x00,0x00,
0x07,0x78,0x00,0x00,0x00,0x07,0x38,0x07,0xE0,0x00,0x07,0x18,0x7F,0xE0,0x00,0x07,
0x07,0xFE,0x00,0x00,0x07,0x07,0xFF,0x00,0x00,0x07,0x00,0x7E,0x00,0x00,0x07,0x00,
0xFE,0x00,0x00,0x0F,0x01,0xEE,0x03,0x00,0x0F,0x01,0xCE,0x03,0x00,0x0F,0x03,0x8E,
0x03,0x00,0x0E,0x07,0x0E,0x03,0x00,0x0E,0x0E,0x0E,0x07,0x80,0x0E,0x1C,0x0F,0xFF,
0x80,0x0E,0x10,0x07,0xFF,0x00,0x00,0x00,0x01,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}
};


int main()
{
    //初始化串口
    int fdtty = Uart_Init("/dev/ttySAC1",9600);

#if 0
    Touch_Init();               //初始化触摸屏

    while(1)
    {
        GetTouch();             //获取用户触摸坐标
    }
#endif

#if 0
    Lcd_Init();             //初始化屏幕

    Lcd_Draw_Rect(0,0,800,480,0xFFFFFF);

    for(int i = 0;i < 6;i++)
    {
        Lcd_Draw_Word(28 + 40 * i,28,40,35,SchoolName[i],0x250250);
    }

    Lcd_Uinit();

    return 0;
#endif



#if 0 
    
    

    Lcd_Draw_Rect(100,50,600,300,0x123456);

    sleep(3);
    //usleep(1*1000*1000);//延时1s

    Lcd_Draw_Circle(400,240,220,0x2B2B2B);

    sleep(3);

    Lcd_Display_Bmp(0,0,"/mnt/hgfs/Linux/素材/2048/bmp/background.bmp");

    Lcd_Uinit();

    return 0;
#endif

#if 0

    //1.打开显示屏文件
    //int fdlcd = open("/dev/fb0",O_RDWR);
    int fdlcd = open("/dev/ubuntu_lcd",O_RDWR);
    if(fdlcd == -1)
    {
        perror("打开显示屏文件失败");
        return -1;
    }

#if 0
    int color = 0xFF0000;
    //2.写入显示屏文件
    for(int i = 0;i < 800*480;i++)
    {
        int ret = write(fdlcd,&color,4);
        if(ret == -1)
        {
            perror("写入显示屏文件失败");
            return -1;
        }
    }
#endif
    int color[480][800] = {0};
    for(int x = 0;x < 800;x++)
    {
        for(int y = 0;y < 480;y++)
        {
            color[y][x] = 0x0000FF00;
        }
    }
    int ret = write(fdlcd,color,sizeof(color));
    if(ret == -1)
    {
        perror("写入显示屏文件失败");
        return -1;
    }   

    //3.关闭显示屏文件
    close(fdlcd);

    return 0;
#endif
    
#if 0
    //从文件1中将所有的内容读取出来后将其写入到文件2的末尾，
    //再将文件2的所有内容都读取出来后打印到终端上。
    //1.打开文件1
    int fd1 = open("/mnt/hgfs/code/1.txt",O_RDONLY);
    if(fd1 == -1)
    {
        perror("打开文件1失败");
        return -1;
    }

    unsigned char buf[512] = {0};
    //2.读取文件1内容
    int ret = read(fd1,buf,512);
    if(ret == -1)
    {
        perror("读取文件1失败");
        return -1;
    }

    //3.关闭文件1
    close(fd1);

    //4.打开文件2
    int fd2 = open("/mnt/hgfs/code/2.txt",O_RDWR | O_APPEND);
    if(fd2 == -1)
    {
        perror("打开文件2失败");
        return -1;
    }

    //5.写入文件2
    ret = write(fd2,buf,ret);
    if(ret == -1)
    {
        perror("写入文件2失败");
        return -1;
    }

    //将光标偏移回文件开头
    lseek(fd2,0,SEEK_SET);

    unsigned char buf1[1024] = {0};
    //6.读取文件2
    ret = read(fd2,buf1,sizeof(buf1));
    if(ret == -1)
    {
        perror("读取文件2失败");
        return -1;
    }

    printf("%s",buf1);

    close(fd2);
    return 0;
#endif

#if 0
    //1.打开文件
    int fd = open("/mnt/hgfs/code/main.c",O_RDWR);
    if(fd == -1)
    {
        printf("打开文件失败");
        return -1;
    }

    unsigned char buf[1024] = {0};
    //2.读取文件
    int ret = read(fd,buf,1024);
    if(ret == -1)
    {
        printf("读取文件失败");
        return -1;        
    }

    printf("%s",buf);

    //3.关闭文件
    close(fd);

    return 0;
#endif

#if 0 
    printf("Hello,World!\n");
    return 0;
#endif   
}

